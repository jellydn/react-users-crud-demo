var UpgradeFamiliesDialog=function(e){Dialog.call(this,e,{additionalHeaderClasses:[],dynamicHeight:!0,buttonsInsideContent:!0,title:Strings.translateString("A modern safe for today's digital family"),closeButtonEnabled:!0})};UpgradeFamiliesDialog.prototype=Object.create(Dialog.prototype),UpgradeFamiliesDialog.prototype.constructor=UpgradeFamiliesDialog,UpgradeFamiliesDialog.prototype.initialize=function(e){Dialog.prototype.initialize.apply(this,arguments),function(i){e.find("#upgrade-families-spinner").hide(),document.querySelector("#dialogCloseButton").classList.remove("dialogCloseButton"),document.querySelector("#dialogCloseButton").innerHTML="&#10006;",document.querySelector("#dialogCloseButton").classList.add("family-opt-in-close"),e.find("#dialogCloseButton").bind("click",function(){localStorage.setItem("lp_families_dialog_snoozed",Date.now()+2592e5),i.close(),bg.sendLpImprove("families_legacy_premium_lightbox_click",{action:"remind_later"})}),e.find("#families-upgrade-postpone").bind("click",function(){localStorage.setItem("lp_families_dialog_never",!0),i.close(),bg.sendLpImprove("upgrade_to_families_lightbox_click",{action:"never"})}),e.find("#families-upgrade-now").bind("click",function(){e.find("#upgrade-families-spinner").show(),e.find("#upgrade-families-text").hide(),e.find("#upgrade-families-icon").hide(),e.find("#families-upgrade-now").prop("disabled",!0),e.find("#families-upgrade-postpone").prop("disabled",!0),LPRequest.makeRequest(LPProxy.familiesOptIn,{params:{},success:function(e){LPProxy.setPreferences("optInToFamiliesDone",!0)}}),bg.sendLpImprove("families_legacy_premium_lightbox_click",{action:"upgrade_now"})}),e.find("#families-upgrade-learn-more").bind("click",function(){bg.sendLpImprove("families_legacy_premium_lightbox_click",{action:"learn_more"})})}(this)},UpgradeFamiliesDialog.prototype.setup=function(e){Dialog.prototype.setup.apply(this,arguments)},UpgradeFamiliesDialog.prototype.close=function(){Dialog.prototype.close.apply(this,arguments),bg.sendLpImprove("families_legacy_premium_lightbox_click",{action:"close"})};