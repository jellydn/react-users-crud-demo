var IntroTourQueue=function(i,t){"use strict";function n(){var i=this._findNextAvailableTour();this.options.remainingTours=this.options.remainingTours.filter(function(t){return t.name!==i.name})}var o=function(i,n){this.options=Object.assign({remainingTours:[familyOnboardingTour.getTourSettings(),{name:"omarMigrationTour",showDate:new Date,isLater:!1,isAvailable:function(){return!LPProxy.isFamilyUser()&&t.allowOmarIA()&&t.allowFormfillMigration()}},{name:"introTour",showDate:new Date,isLater:!1,isAvailable:function(){return!LPProxy.isFamilyUser()&&!t.allowOmarIA()&&!LPProxy.getPreference("seenVault4.0")}}]},n),this.tourSetData=i};return o.prototype.laterThisTour=function(){if(this.options.remainingTours&&this.options.remainingTours.length>0){var i=this._findNextAvailableTour();i.showDate=new Date,i.showDate.setDate(i.showDate.getDate()+3),i.isLater=!0}},o.prototype.neverThisTour=function(){this.options.remainingTours&&this.options.remainingTours.length>0&&n.call(this)},o.prototype.takeThisTour=function(){this.options.remainingTours&&this.options.remainingTours.length>0&&n.call(this)},o.prototype.neverAllTours=function(){this.options.remainingTours=[]},o.prototype.getAvailableTour=function(){var t=null;if(this.options.remainingTours&&this.options.remainingTours.length>0){var n=this._findNextAvailableTour();n&&this.tourSetData&&this.tourSetData[n.name]&&(t=i.extend(!0,{},n,{tour:this.tourSetData[n.name]}))}return t},o.prototype._findNextAvailableTour=function(){return this.options.remainingTours.find(function(i){return void 0===i.isAvailable||!0===i.isAvailable||"function"==typeof i.isAvailable&&i.isAvailable()})},o.prototype.getOptions=function(){for(var i=[],t=this.options.remainingTours,n=0;n<t.length;n++)(void 0===t[n].isAvailable||!0===t[n].isAvailable||"function"==typeof t[n].isAvailable&&t[n].isAvailable())&&i.push(t[n]);return{remainingTours:i}},o}(jQuery,LPFeatures);